@use "../../node_modules/@cloudscape-design/design-tokens/index.scss" as cs;

@mixin focus-highlight($gutter: 4px, $border-radius: cs.$border-radius-control-default-focus-ring) {
  position: relative;
  box-sizing: border-box;
  outline: none;
  & {
    outline: 2px dotted transparent;
    outline-offset: calc($gutter - 1px);
  }
  &::before {
    content: " ";
    display: block;
    position: absolute;
    box-sizing: border-box;
    left: calc(-1 * #{$gutter});
    top: calc(-1 * #{$gutter});
    width: calc(100% + 2 * #{$gutter});
    height: calc(100% + 2 * #{$gutter});
    border-radius: $border-radius;
    border: 2px solid cs.$color-border-item-focused;
  }
}

.root {
  display: contents;
}

/* TODO: use container API instead of styles override */
.container-override.active {
  box-shadow: cs.$shadow-container-active;

  :global([data-awsui-focus-visible]) & {
    @include focus-highlight(0px, cs.$border-radius-container);
  }
}

.header {
  display: flex;
  justify-items: center;
  padding: cs.$space-scaled-s calc(#{cs.$space-container-horizontal} - #{cs.$space-scaled-xs});
}

.flexible {
  flex: 1 1 min-content;
}

.handle {
  margin-top: calc(cs.$space-scaled-xxs + 1px);
}

.header-content {
  margin-left: cs.$space-scaled-xxs;
}

.settings {
  margin-top: calc(cs.$space-scaled-xxxs + 1px);
  margin-left: cs.$space-static-xs;
}

.fixed {
  flex: 0 0 auto;
}

.resizer {
  position: absolute;
  // offset for inner paddings in the handle
  bottom: calc(#{cs.$space-static-xs} - #{cs.$space-static-xxxs});
  right: calc(#{cs.$space-static-xs} - #{cs.$space-static-xxxs});
}
